version: '3.8'

services:
  app:
    # Thay đổi đường dẫn image này bằng đường dẫn chính xác trên GHCR của bạn
    # Ví dụ: ghcr.io/duongcamcute/tech-gadget-manager:latest
    image: ghcr.io/duongcamcute/tech-gadget-manager:latest
    container_name: tech-gadget-manager
    restart: always
    ports:
      - "3000:3000"
    environment:
      - DATABASE_URL=file:/app/db/prod.db
      - NODE_ENV=production
    volumes:
      # Map thư mục data để giữ dữ liệu bền vững
      # Trong Portainer, bạn có thể để đường dẫn tuyệt đối trên NAS, ví dụ: /volume1/docker/tech-gadget-manager/data:/app/db
      - ./data:/app/db
